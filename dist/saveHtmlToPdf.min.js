angular.module("htmlToPdfSave",[]),angular.module("htmlToPdfSave").directive("pdfSaveButton",["$rootScope","$pdfStorage",function(e,t){return{restrict:"A",link:function(a,n,o){t.pdfSaveButtons.push(n),a.buttonText="Button",n.on("click",function(){var t=o.pdfSaveButton,a=o.pdfName;e.$broadcast("savePdfEvent",{activePdfSaveId:t,activePdfSaveName:a})})}}}]),angular.module("htmlToPdfSave").directive("pdfSaveContent",["$rootScope","$pdfStorage","$pdfSaveConfig",function(e,t,a){return{link:function(e,n,o){t.pdfSaveContents.push(n);var d=e.$on("savePdfEvent",function(e,o){function d(e,t){return e==t}function v(e,t){var n=$("div[pdf-save-content="+t+"]")[0];html2canvas(n,{proxy:a.proxyUrl,onrendered:function(e){for(var t=new jsPDF("p","pt","letter"),a=0;a<=n.clientHeight/980;a++){var o=e,d=980*a;window.onePageCanvas=document.createElement("canvas"),onePageCanvas.setAttribute("width",900),onePageCanvas.setAttribute("height",980),onePageCanvas.getContext("2d").drawImage(o,0,d,900,980,0,0,900,980);var v=onePageCanvas.toDataURL("image/png",1),r=onePageCanvas.width,f=onePageCanvas.clientHeight;a>0&&t.addPage(612,791),t.setPage(a+1),t.addImage(v,"PNG",20,40,.62*r,.62*f)}t.save(u)}})}for(var r=n[0].getAttribute("pdf-save-content"),f=t.pdfSaveContents,i=o.activePdfSaveId,u=o.activePdfSaveName||"default.pdf",c=0;c<f.length;c++)if(d(i,r)){var s=f[c][0].getAttribute("pdf-save-content");if(d(s,i)){console.log("[Convert PDF Start]: ",s),function(e,t){v(0,t)}(0,s),console.log("[Conver PDF End]");break}}});e.$on("$destroy",d)}}}]),angular.module("htmlToPdfSave").service("$pdfStorage",function(){this.pdfSaveButtons=[],this.pdfSaveContents=[]}).service("$pdfSaveConfig",function(){this.pdfName="default.pdf",this.proxyUrl=""});